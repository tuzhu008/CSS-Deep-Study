# Base

## 折叠外边距

在CSS中，两个以上的框（可能是兄弟，也可能不是）之间的相邻外边距可以被合并成一个单独的外边距。通过此方式合并的外边距被称为折叠，且产生的已合并的外边距被称为折叠外边距。

相邻垂直外边距合并，除了：

* 根元素的框的外边距不合并。

* 如果一个有间隙的元素的上、下外边距相邻，则其外边距将与下面的兄弟的外边距合并，但产生的边距不会与父亲区块的下外边距合并。

水平外边距不会合并。

当且仅当下列情况发生，则称两个外边距相邻：

* 双方都是同一个块格式化上下文中属于正常排版的块级框。

* 没有行框、没有间隙、没有内边距且没有边框隔开它们（注意，某些零高度行框（参见9.4.2）会为此被忽略。）

  内边距、和边框存在于父子元素之间

* 双方的框边缘垂直相邻，例如下列一种形式：

  * 框的上外边距和其属于正常排版的第一个孩子的上外边距。
  
  * 框的下外边距和其属于正常排版的最后一个孩子的下外边距，如果其父亲的高度计算值为‘auto’。
  
  * 框的下外边距和其属于正常排版的下一个兄弟的上外边距。
  
  * 框的上、下外边距，如果该框没有建立新的区块格式上下文，且‘min-height’计算值为零、‘height’计算值为零或‘auto’、且没有属于正常排版的孩子。

    自我折叠

**注：产生相邻外边距的两个元素不一定是兄弟或祖先的关系。**

注：上述规则意味着：

* 在浮动框和其他框之间的外边距不会折叠（甚至一个浮动框和其属于正常排版的孩子之间也不会出现外边距折叠）。

* 创建了新块格式化上下文的元素（例如浮动的以及‘overflow’不是‘visible’的元素），不会与其属于正常排版的孩子出现外边距折叠。

* 绝对定位框的外边距不会折叠（和其属于正常排版的孩子也不折叠）。

* 行内块框的外边距不会折叠（和其属于正常排版的孩子也不折叠）。

* 属于正常排版的一个块级元素其下外边距总是与其属于正常排版的下一个块级兄弟的上外边距折叠，除非这两兄弟之间有间隙。

* 如果属于正常排版的一个块元素没有上边框、上内边距，且其第一个浮动的块级孩子没有间隙，则该元素的上外边距会与其属于正常排版的第一个块级孩子的上外边距折叠。

* 如果一个‘height’为‘auto’且‘min-height’为零的浮动的块框没有下内边距和下边框，且其属于正常排版的最后一个块级孩子没有与任何其它带间隙的上外边距出现折叠，则该框的下外边距会与该孩子的下外边距折叠。

* 如果一个框的‘min-height’属性为零，且没有上或下边框以及上或下内边距，且‘height’为0或者‘auto’，且不包含行框，且其属于正常排版的所有孩子的外边距都折叠了，则折叠其外边距。* 